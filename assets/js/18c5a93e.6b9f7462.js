"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[730],{1858:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var a=r(6540),s=r(6347),l=r(9155),c=r(5293);const n={"search-bar-container":"search-bar-container_QSll","search-form":"search-form_Ba98","search-input-wrapper":"search-input-wrapper_Foco","search-input":"search-input_WMUM","search-button":"search-button_Cz_m","search-results-dropdown":"search-results-dropdown_JKkO",dark:"dark_t3Gd","search-error":"search-error_ZVfS","search-results-header":"search-results-header_W6GR","search-results-list":"search-results-list_WB9M","search-result-item":"search-result-item_RX9m","result-title":"result-title_wTo8","result-excerpt":"result-excerpt_ewrM","result-relevance":"result-relevance_hE7X","search-results-footer":"search-results-footer_IFWh"},o=()=>{const[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)([]),[o,m]=(0,a.useState)(!1),[u,i]=(0,a.useState)(!1),[h,d]=(0,a.useState)(null),p=(0,a.useRef)(null),{colorMode:E}=(0,c.G)(),v=(0,s.W6)(),f=(0,s.zy)();(0,a.useEffect)(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,a.useEffect)(()=>{if(f.pathname.includes("/search")){const e=new URLSearchParams(f.search).get("q");e&&(t(e),g(e))}},[f]);const g=async e=>{if(e.trim()){i(!0),d(null);try{const t=await fetch(`/api/v1/search/?q=${encodeURIComponent(e)}&limit=5`);if(!t.ok)throw new Error(`Server error: ${t.status}`);const r=await t.json();l(r.results||[]),m(!0)}catch(t){console.error("Search error:",t),d("Search failed. Please try again."),l([])}finally{i(!1)}}else l([])};return a.createElement("div",{className:n["search-bar-container"],ref:p},a.createElement("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&(g(e),v.push(`/search?q=${encodeURIComponent(e)}`))},className:n["search-form"]},a.createElement("div",{className:n["search-input-wrapper"]},a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),onFocus:()=>e&&m(!0),placeholder:"Search textbook...",className:n["search-input"]}),a.createElement("button",{type:"submit",className:n["search-button"],disabled:u},"\ud83d\udd0d"))),o&&(r.length>0||h)&&a.createElement("div",{className:`${n["search-results-dropdown"]} ${n[E]}`},h?a.createElement("div",{className:n["search-error"]},h):a.createElement(a.Fragment,null,a.createElement("div",{className:n["search-results-header"]},r.length," result",1!==r.length?"s":"",' for "',e,'"'),a.createElement("ul",{className:n["search-results-list"]},r.map((e,r)=>a.createElement("li",{key:e.id||r,className:n["search-result-item"],onClick:()=>{return r=e.url,v.push(r),m(!1),void t("");var r}},a.createElement("div",{className:n["result-title"]},e.title),a.createElement("div",{className:n["result-excerpt"]},e.excerpt),a.createElement("div",{className:n["result-relevance"]},"Relevance: ",(100*e.relevance).toFixed(1),"%")))),a.createElement("div",{className:n["search-results-footer"]},a.createElement("a",{href:`/search?q=${encodeURIComponent(e)}`,onClick:t=>{t.preventDefault(),m(!1),v.push(`/search?q=${encodeURIComponent(e)}`)}},"View all results")))))},m=()=>{const e=(0,s.zy)(),[t,r]=(0,a.useState)([]),[c,n]=(0,a.useState)(""),[m,u]=(0,a.useState)(!1),[i,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{const t=new URLSearchParams(e.search).get("q");t&&(n(t),d(t))},[e]);const d=async e=>{if(e.trim()){u(!0),h(null);try{const t=await fetch(`/api/v1/search/?q=${encodeURIComponent(e)}&limit=20`);if(!t.ok)throw new Error(`Server error: ${t.status}`);const a=await t.json();r(a.results||[])}catch(t){console.error("Search error:",t),h("Search failed. Please try again."),r([])}finally{u(!1)}}else r([])};return a.createElement(l.A,{title:"Search Results",description:"Search results for the Physical AI & Humanoid Robotics textbook"},a.createElement("div",{className:"container margin-vert--lg"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col col--8 col--offset--2"},a.createElement("h1",null,"Search Results"),a.createElement("div",{className:"search-controls margin-bottom--lg"},a.createElement(o,null)),m?a.createElement("div",{className:"text--center padding--lg"},a.createElement("div",{className:"loading-spinner"},"\ud83d\udd0d Searching...")):i?a.createElement("div",{className:"alert alert--error"},a.createElement("p",null,i)):a.createElement("div",null,c&&a.createElement("p",{className:"margin-bottom--lg"},"Found ",a.createElement("strong",null,t.length)," result",1!==t.length?"s":"",' for "',a.createElement("strong",null,c),'"'),t.length>0?a.createElement("div",{className:"search-results-list"},t.map((e,t)=>a.createElement("div",{key:e.id||t,className:"search-result-card margin-bottom--md"},a.createElement("h3",null,a.createElement("a",{href:e.url,className:"search-result-link"},e.title)),a.createElement("p",{className:"search-result-excerpt"},e.excerpt),a.createElement("div",{className:"search-result-meta"},a.createElement("span",{className:"search-result-relevance"},"Relevance: ",(100*e.relevance).toFixed(1),"%"),a.createElement("span",{className:"search-result-url"},"\u2192 ",e.url))))):c?a.createElement("div",{className:"text--center padding--lg"},a.createElement("p",null,'No results found for "',c,'". Try different keywords.')):a.createElement("div",{className:"text--center padding--lg"},a.createElement("p",null,"Enter a search query to find content in the textbook.")))))))}}}]);